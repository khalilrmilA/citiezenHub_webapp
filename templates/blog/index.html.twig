{% extends 'home/index.html.twig' %}

{% block title %}Hello BlogController!{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{{ asset('assets/css/vendor/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/vendor/slick.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/vendor/slick-theme.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/vendor/nice-select.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/plugins/feature.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/plugins/jquery-ui.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/vendor/odometer.css') }}">

    <!-- Style css -->
    <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">

    <link rel="stylesheet" href="{{ asset('blogStyle.css') }}">
{% endblock %}

{% block js %}
    <script src="{{ asset('js/BlogScript.js') }}"></script>
    <script src="assets/js/vendor/jquery.js"></script>
    <script src="assets/js/vendor/jquery.nice-select.min.js"></script>
    <script src="assets/js/vendor/jquery-ui.js"></script>
    <script src="assets/js/vendor/modernizer.min.js"></script>
    <script src="assets/js/vendor/feather.min.js"></script>
    <script src="assets/js/vendor/slick.min.js"></script>
    <script src="assets/js/vendor/bootstrap.min.js"></script>
    <script src="assets/js/vendor/sal.min.js"></script>
    <script src="assets/js/vendor/particles.js"></script>
    <script src="assets/js/vendor/jquery.style.swicher.js"></script>
    <script src="assets/js/vendor/js.cookie.js"></script>
    <script src="assets/js/vendor/count-down.js"></script>
    <script src="assets/js/vendor/isotop.js"></script>
    <script src="assets/js/vendor/imageloaded.js"></script>
    <script src="assets/js/vendor/backtoTop.js"></script>
    <script src="assets/js/vendor/odometer.js"></script>
    <script src="assets/js/vendor/jquery-appear.js"></script>
    <script src="assets/js/vendor/scrolltrigger.js"></script>
    <script src="assets/js/vendor/jquery.custom-file-input.js"></script>
    <script src="assets/js/vendor/savePopup.js"></script>
    <script src="assets/js/vendor/vanilla.tilt.js"></script>

    <!-- main JS -->
    <script src="assets/js/main.js"></script>
{% endblock %}

{% block body %}
    <!-- start page title area -->
    <div class="rn-breadcrumb-inner ptb--30">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-6 col-12">
                    <h5 class="title text-center text-md-start">Blog Single Column</h5>
                </div>
                <div class="col-lg-6 col-md-6 col-12">
                    <ul class="breadcrumb-list">
                        <li class="item"><a href="index.html">Home</a></li>
                        <li class="separator"><i class="feather-chevron-right"></i></li>
                        <li class="item current">Blog Single column</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- end page title area -->

    <!-- blog details area start -->
    <div class="rn-blog-area rn-blog-details-default rn-section-gapTop">
        <div class="container">
            <div class="row g-5 flex-wrap">

                <!-- login form -->
                <div class="col-lg-8" data-sal="slide-up" data-sal-delay="200" data-sal-duration="800">
                    <div class="form-wrapper-one registration-area">
                        <h3 class="mb--30">Exprimer Vous!</h3>
                        <form class="rwt-dynamic-form" id="contact-form" method="POST" action="mail.php">
                            <div class="mb-5">
                                <label for="contact-message" class="form-label">Write Message</label>
                                <textarea name="contact-message" id="contact-message" rows="3"></textarea>
                            </div>
                            <div class="button-area mb-5">
                                <div class="collection-single-wized banner">
                                    <label class="title">Ajouter une image</label>
                                    <div class="create-collection-input feature-image">
                                        <center>
                                        <div class="logo-c-image feature">
                                            <img id="rbtinput2" src="{{ asset('aucuneImg.png') }}" alt="Profile-NFT">
                                            <label for="nipa" title="No File Choosen">
                                                <span class="text-center color-white"><i class="feather-edit"></i></span>
                                            </label>
                                        </div>
                                        </center>
                                        <div class="button-area">
                                            <div class="brows-file-wrapper">
                                                <!-- actual upload which is hidden -->
                                                <input name="nipa" id="nipa" type="file">
                                                <!-- our custom upload button -->
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>

                            <button name="submit" type="submit" class="btn btn-primary" onclick="addPost(event)">
                                Publier
                            </button>
                        </form>
                    </div>
                </div>
                <!-- login form end -->

                <!-- categorie area houni -->

                <!-- start single blog -->
                {% for i in posts %}
                    <div class="col-xl-8 col-lg-8">
                        <div class="rn-blog single-column mb--30" data-toggle="modal" data-target="#exampleModalCenters"
                             data-sal="slide-up" data-sal-delay="150" data-sal-duration="800">
                            <div class="inner">
                                <div class="content mb-4">
                                    <div class="category-info">
                                        <div class="category-list">
                                            <img src="{{ asset('assets/images/activity/activity-01.jpg') }}" height="50"
                                                 width="50" style="margin-right: 10px">
                                            <a href="blog-details.html">Omar marrakchi</a>
                                        </div>
                                        <div class="meta">
                                            <select onchange="handleMenuAction(this, {{ i.id }}, '{{ i.caption }}', '{{ i.image }}')">
                                                <option value="" disabled selected hidden><i class="fas fa-cogs"></i>
                                                </option>
                                                <option value="modifier">Modifier</option>
                                                <option value="supprimer">Supprimer</option>
                                            </select>
                                        </div>
                                    </div>
                                    <span>{{ i.datePost|date('D d M Y H:i') }}</span>
                                    <h4 class="title"><a href="blog-details.html">{{ i.caption }} <i
                                                    class="feather-arrow-up-right"></i></a></h4>
                                </div>
                                {% if i.image %}
                                    <div class="thumbnail">
                                        <a href="blog-details.html">
                                            <img src="{{ asset('images/blog/' ~ i.image) }}"
                                                 alt="Personal Portfolio Images">
                                        </a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
                <!-- end single blog -->




                <!-- navigation Pagination -->
                <div class="row">
                    <div class="col-lg-8" data-sal="slide-up" data-sal-delay="550" data-sal-duration="800">
                        <nav class="pagination-wrapper" aria-label="Page navigation example">
                            <ul class="pagination single-column-blog">
                                <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                                <li class="page-item"><a class="page-link active" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item"><a class="page-link" href="#">Next</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
                <!-- navigation Pagination End-->
            </div>
        </div>
    </div>
    <!-- blog details area end -->

    <!-- Modal de modification -->
    <div id="modifierModal" class="modal">
        <div class="modal-content">
            <!--<span class="close" onclick="closeModifierPopup()">&times;</span>-->
            <div class="login-area message-area align-content-lg-center align-content-md-center">
                <div class="container">
                    <div class="row g-5">
                        <div class="col-lg-6" data-sal="slide-up" data-sal-delay="150"
                             data-sal-duration="800">
                            <div class="collection-single-wized banner h-100">
                                <label class="title required">Modifier votre image</label>
                                <div class="create-collection-input logo-image" style="margin-top: 80px">
                                    <center>
                                    <div class="logo-c-image logo">
                                        <img id="imageModifer" src="{{ asset('aucuneImg.png') }}"  alt="Profile-NFT">
                                        <label for="nipaUpload" title="No File Choosen">
                                            <span class="text-center color-white"><i class="feather-edit"></i></span>
                                        </label>
                                    </div>
                                    </center>
                                    <div class="button-area">
                                        <div class="brows-file-wrapper">
                                            <!-- actual upload which is hidden -->
                                            <input name="nipaUpload" id="nipaUpload" type="file" onclick="changerImage()">
                                            <!-- our custom upload button -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6" data-sal="slide-up" data-sal-delay="200"
                             data-sal-duration="800">
                            <div class="form-wrapper-one registration-area">
                                <h3 class="mb--30">Modifier votre post</h3>
                                <form class="rwt-dynamic-form" id="contact-form" method="POST"
                                      action="mail.php">
                                    <div class="mb-5">
                                        <label for="captionModfier" class="form-label">Exprimer vous!</label>
                                        <textarea name="captionModfier" id="captionModfier"
                                                  rows="5" style="height: 307px"></textarea>
                                    </div>
                                    <button name="submit" type="submit" class="btn btn-primary"
                                            onclick="submitModifierForm(event)">Save
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


